{"version":3,"sources":["telescope:notifications/lib/notifications.js","telescope:notifications/lib/herald.js","telescope:notifications/lib/modules.js","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/package-tap.i18n","telescope:notifications/lib/server/notifications-server.js","telescope:notifications/lib/server/routes.js","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/de.i18n.json","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/en.i18n.json","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/es.i18n.json","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/fr.i18n.json","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/it.i18n.json","telescope:notifications//Users/sacha/Dev/Telescope/packages/telescope-notifications/i18n/zh-CN.i18n.json"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oD;AACA,wC;;AAEA,0F;AACA,uH;;AAEA,sC;AACA,8C;AACA,4D;;AAEA,yE;AACA,6C;AACA,iF;AACA,wC;AACA,4C;AACA,iF;AACA,G;AACA,c;;AAEA,C;AACA,mE;;AAEA,0C;AACA,gF;AACA,c;AACA,C;AACA,uE;;AAEA,0D;AACA,2C;;AAEA,uD;;AAEA,6C;AACA,4B;AACA,sE;AACA,6D;AACA,U;AACA,gD;AACA,6B;;AAEA,kF;AACA,kF;AACA,4G;AACA,8F;AACA,wC;AACA,K;;AAEA,mD;AACA,oC;;AAEA,oE;;AAEA,6F;AACA,yD;AACA,4F;;AAEA,sE;;AAEA,0F;AACA,mF;;AAEA,oD;AACA,4F;;AAEA,yG;AACA,qD;AACA,S;AACA,O;;AAEA,K;;AAEA,+C;AACA,yF;AACA,6B;;AAEA,gE;AACA,yF;AACA,oG;AACA,kH;;AAEA,sE;;AAEA,K;;AAEA,G;;AAEA,iB;;AAEA,C;;AAEA,sE;;AAEA,0B;AACA,kC;AACA,gB;AACA,kB;AACA,mB;AACA,uB;AACA,e;AACA,6B;AACA,mG;AACA,K;AACA,G;AACA,E;AACA,sC;;AAEA,mE;AACA,kB;AACA,G;AACA,sC;AACA,kB;AACA,oB;AACA,qB;AACA,iB;AACA,kB;AACA,O;AACA,K;AACA,G;AACA,E;;AAEA,qD;AACA,gB;AACA,G;AACA,+C;AACA,kB;AACA,yB;AACA,oB;AACA,qB;AACA,0B;AACA,4B;AACA,iB;AACA,oC;AACA,O;AACA,K;AACA,I;AACA,G;AACA,+C;AACA,kB;AACA,yB;AACA,oB;AACA,qB;AACA,0B;AACA,sC;AACA,iB;AACA,oC;AACA,O;AACA,K;AACA,I;AACA,G;AACA,kD;AACA,kB;AACA,oC;AACA,oB;AACA,qB;AACA,yB;AACA,sC;AACA,iB;AACA,oC;AACA,O;AACA,K;AACA,I;AACA,G;AACA,iD;AACA,kB;AACA,sC;AACA,oB;AACA,qB;AACA,yB;AACA,sC;AACA,iB;AACA,oC;AACA,O;AACA,K;AACA,G;AACA,G;;AAEA,yC;AACA,0C;AACA,kC;AACA,iB;AACA,iB;AACA,mB;AACA,iB;AACA,I;AACA,c;AACA,C;AACA,iE;;;;;;;;;;;;;;;;;;;;AC1LA,mD;AACA,qD;AACA,oC;;AAEA,4B;;AAEA,0B;AACA,gC;AACA,+B;AACA,K;;AAEA,8E;AACA,8E;;AAEA,G;;AAEA,4C;AACA,0B;AACA,mE;AACA,iC;AACA,6D;AACA,0G;AACA,Q;AACA,E;;AAEA,iD;AACA,kD;AACA,a;AACA,qC;AACA,U;AACA,yD;AACA,G;AACA,E;;AAEA,oC;AACA,kD;AACA,a;AACA,mC;AACA,U;AACA,0B;AACA,G;AACA,E;;AAEA,iG;AACA,iG;AACA,iG;;AAEA,8B;AACA,U;AACA,Y;AACA,oC;AACA,+C;AACA,+E;AACA,iG;AACA,kE;AACA,O;AACA,K;AACA,G;AACA,0D;AACA,G;;AAEA,qC;AACA,U;AACA,Y;AACA,oC;AACA,+C;AACA,wF;AACA,wG;AACA,kE;AACA,O;AACA,K;AACA,G;AACA,G;;AAEA,mC;AACA,U;AACA,e;AACA,Y;AACA,oC;AACA,+C;AACA,sE;AACA,sG;AACA,kE;AACA,O;AACA,K;AACA,I;AACA,Y;AACA,0B;AACA,wD;AACA,mD;AACA,U;AACA,K;AACA,I;AACA,c;AACA,0B;AACA,6C;AACA,uB;AACA,M;AACA,4B;AACA,6C;AACA,yB;AACA,K;AACA,G;AACA,G;;AAEA,iG;AACA,iG;AACA,iG;;AAEA,mE;AACA,+B;AACA,2B;AACA,qD;AACA,I;AACA,+B;AACA,+D;AACA,I;AACA,uB;AACA,wC;AACA,I;AACA,0B;AACA,gC;AACA,I;AACA,oB;AACA,uE;AACA,G;AACA,E;;AAEA,iC;AACA,U;AACA,e;AACA,Y;AACA,+B;AACA,K;AACA,I;AACA,Y;AACA,0B;AACA,wD;AACA,iD;AACA,U;AACA,K;AACA,I;AACA,oC;AACA,G;;AAEA,+B;AACA,U;AACA,e;AACA,Y;AACA,+B;AACA,K;AACA,I;AACA,Y;AACA,0B;AACA,wD;AACA,+C;AACA,U;AACA,K;AACA,I;AACA,oC;AACA,G;;AAEA,2C;AACA,U;AACA,e;AACA,Y;AACA,+B;AACA,K;AACA,I;AACA,Y;AACA,0B;AACA,wD;AACA,+C;AACA,U;AACA,K;AACA,I;AACA,oC;AACA,G;;;;;;;;;;;;;;;;;;;AClLA,uC;AACA,gC;AACA,W;AACA,G;;AAEA,oC;AACA,gC;AACA,W;AACA,G;;;;;;;;;;;;;;;;;;ACRA,yH;;AAEA,+D;AACA,gD;;;;;;;;;;;;;;;;;;;ACHA,oC;AACA,sF;AACA,E;;AAEA,6E;AACA,kD;;AAEA,c;AACA,e;AACA,oC;AACA,0C;;AAEA,+B;;AAEA,sB;AACA,8F;AACA,mC;AACA,Y;;AAEA,oB;AACA,qF;AACA,iC;AACA,Y;;AAEA,gC;AACA,oF;AACA,mC;AACA,Y;;AAEA,Y;AACA,Y;AACA,G;;AAEA,qD;AACA,+B;AACA,8D;AACA,6E;AACA,iC;AACA,K;;AAEA,iC;;AAEA,gF;AACA,6D;;AAEA,U;AACA,qB;AACA,c;AACA,I;AACA,E;;AAEA,gB;AACA,mC;AACA,8E;AACA,iF;AACA,mE;AACA,a;AACA,qC;AACA,e;AACA,4C;AACA,4C;AACA,+C;AACA,6C;AACA,S;AACA,S;AACA,kB;AACA,K;AACA,iB;AACA,G;AACA,G;;;;;;;;;;;;;;;;;;;;ACrEA,4B;AACA,E;AACA,uB;;AAEA,4C;AACA,yB;AACA,oB;AACA,wB;AACA,mE;AACA,sE;AACA,qD;AACA,0B;AACA,K;AACA,K;;AAEA,G;;;;;;;;;;;;;;;;;;ACfA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,+C;AACA,kC;AACA,C;;AAEA,0D;AACA,6C;AACA,C;;AAEA,sb;;;;;;;;;;;;;;;;;;;ACfA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,gD;AACA,kB;AACA,mjB;AACA,gD;;;;;;;;;;;;;;;;;;;ACVA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,+C;AACA,kC;AACA,C;;AAEA,0D;AACA,6C;AACA,C;;AAEA,sb;;;;;;;;;;;;;;;;;;;ACfA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,+C;AACA,kC;AACA,C;;AAEA,0D;AACA,6C;AACA,C;;AAEA,+iB;;;;;;;;;;;;;;;;;;;ACfA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,+C;AACA,kC;AACA,C;;AAEA,0D;AACA,6C;AACA,C;;AAEA,sb;;;;;;;;;;;;;;;;;;;ACfA,6B;AACA,6C;AACA,0C;;AAEA,gC;AACA,yD;AACA,C;AACA,kD;AACA,qC;AACA,C;;AAEA,6D;AACA,gD;AACA,C;;AAEA,yb","file":"/packages/telescope_notifications.js","sourcesContent":["// add new post notification callback on post submit\nfunction postSubmitNotification (post) {\n\n  var adminIds = _.pluck(Users.find({'isAdmin': true}, {fields: {_id:1}}).fetch(), '_id');\n  var notifiedUserIds = _.pluck(Users.find({'telescope.notifications.posts': true}, {fields: {_id:1}}).fetch(), '_id');\n\n  // remove post author ID from arrays\n  adminIds = _.without(adminIds, post.userId);\n  notifiedUserIds = _.without(notifiedUserIds, post.userId);\n\n  if (post.status === Posts.config.STATUS_PENDING && !!adminIds.length) {\n    // if post is pending, only notify admins\n    Herald.createNotification(adminIds, {courier: 'newPendingPost', data: post});\n  } else if (!!notifiedUserIds.length) {\n    // if post is approved, notify everybody\n    Herald.createNotification(notifiedUserIds, {courier: 'newPost', data: post});\n  }\n  return post;\n\n}\nTelescope.callbacks.add(\"postSubmitAsync\", postSubmitNotification);\n\nfunction postApprovedNotification (post) {\n  Herald.createNotification(post.userId, {courier: 'postApproved', data: post});\n  return post;\n}\nTelescope.callbacks.add(\"postApprovedAsync\", postApprovedNotification);\n\n// add new comment notification callback on comment submit\nfunction addCommentNotification (comment) {\n\n  if(Meteor.isServer && !comment.disableNotifications){\n\n    var post = Posts.findOne(comment.postId),\n        notificationData = {\n          comment: _.pick(comment, '_id', 'userId', 'author', 'body'),\n          post: _.pick(post, '_id', 'userId', 'title', 'url')\n        },\n        postAuthor = Users.findOne(post.userId),\n        userIdsNotified = [];\n\n    // 1. Notify author of post (if they have new comment notifications turned on)\n    //    but do not notify author of post if they're the ones posting the comment\n    if (Users.getSetting(postAuthor, \"notifications.comments\", true) && comment.userId !== postAuthor._id) {\n      Herald.createNotification(post.userId, {courier: 'newComment', data: notificationData});\n      userIdsNotified.push(post.userId);\n    }\n\n    // 2. Notify author of comment being replied to\n    if (!!comment.parentCommentId) {\n\n      var parentComment = Comments.findOne(comment.parentCommentId);\n\n      // do not notify author of parent comment if they're also post author or comment author\n      // (someone could be replying to their own comment)\n      if (parentComment.userId !== post.userId && parentComment.userId !== comment.userId) {\n\n        var parentCommentAuthor = Users.findOne(parentComment.userId);\n\n        // do not notify parent comment author if they have reply notifications turned off\n        if (Users.getSetting(parentCommentAuthor, \"notifications.replies\", true)) {\n\n          // add parent comment to notification data\n          notificationData.parentComment = _.pick(parentComment, '_id', 'userId', 'author');\n\n          Herald.createNotification(parentComment.userId, {courier: 'newReply', data: notificationData});\n          userIdsNotified.push(parentComment.userId);\n        }\n      }\n\n    }\n\n    // 3. Notify users subscribed to the thread\n    // TODO: ideally this would be injected from the telescope-subscribe-to-posts package\n    if (!!post.subscribers) {\n\n      // remove userIds of users that have already been notified\n      // and of comment author (they could be replying in a thread they're subscribed to)\n      var subscriberIdsToNotify = _.difference(post.subscribers, userIdsNotified, [comment.userId]);\n      Herald.createNotification(subscriberIdsToNotify, {courier: 'newCommentSubscribed', data: notificationData});\n\n      userIdsNotified = userIdsNotified.concat(subscriberIdsToNotify);\n\n    }\n\n  }\n\n  return comment;\n\n}\n\nTelescope.callbacks.add(\"commentSubmitAsync\", addCommentNotification);\n\nvar emailNotifications = {\n  fieldName: 'emailNotifications',\n  fieldSchema: {\n    type: Boolean,\n    optional: true,\n    defaultValue: true,\n    autoform: {\n      group: 'notifications',\n      instructions: 'Enable email notifications for new posts and new comments (requires restart).'\n    }\n  }\n};\nSettings.addField(emailNotifications);\n\n// make it possible to disable notifications on a per-comment basis\nComments.addField(\n  {\n    fieldName: 'disableNotifications',\n    fieldSchema: {\n      type: Boolean,\n      optional: true,\n      autoform: {\n        omit: true\n      }\n    }\n  }\n);\n\n// Add notifications options to user profile settings\nUsers.addField([\n  {\n    fieldName: 'telescope.notifications.users',\n    fieldSchema: {\n      label: 'New users',\n      type: Boolean,\n      optional: true,\n      defaultValue: false,\n      editableBy: ['admin'],\n      autoform: {\n        group: 'Email Notifications'\n      }\n    }\n  },\n  {\n    fieldName: 'telescope.notifications.posts',\n    fieldSchema: {\n      label: 'New posts',\n      type: Boolean,\n      optional: true,\n      defaultValue: false,\n      editableBy: ['admin', 'member'],\n      autoform: {\n        group: 'Email Notifications'\n      }\n    }\n  },\n  {\n    fieldName: 'telescope.notifications.comments',\n    fieldSchema: {\n      label: 'Comments on my posts',\n      type: Boolean,\n      optional: true,\n      defaultValue: true,\n      editableBy: ['admin', 'member'],\n      autoform: {\n        group: 'Email Notifications'\n      }\n    }\n  },\n  {\n    fieldName: 'telescope.notifications.replies',\n    fieldSchema: {\n      label: 'Replies to my comments',\n      type: Boolean,\n      optional: true,\n      defaultValue: true,\n      editableBy: ['admin', 'member'],\n      autoform: {\n        group: 'Email Notifications'\n      }\n    }\n  }\n]);\n\nfunction setNotificationDefaults (user) {\n  // set notifications default preferences\n  user.telescope.notifications = {\n    users: false,\n    posts: false,\n    comments: true,\n    replies: true\n  };\n  return user;\n}\nTelescope.callbacks.add(\"onCreateUser\", setNotificationDefaults);\n","\n// send emails every second when in dev environment\nif (Meteor.absoluteUrl().indexOf('localhost') !== -1)\n  Herald.settings.queueTimer = 1000;\n\nMeteor.startup(function () {\n\n  Herald.collection.deny({\n    update: !Users.can.editById,\n    remove: !Users.can.editById\n  });\n\n  // disable all email notifications when \"emailNotifications\" is set to false\n  Herald.settings.overrides.email = !Settings.get('emailNotifications', true);\n\n});\n\nvar commentEmail = function (userToNotify) {\n  var notification = this;\n  // put in setTimeout so it doesn't hold up the rest of the method\n  Meteor.setTimeout(function () {\n    notificationEmail = buildEmailNotification(notification);\n    Telescope.email.send(Users.getEmail(userToNotify), notificationEmail.subject, notificationEmail.html);\n  }, 1);\n};\n\nvar getCommenterProfileUrl = function (comment) {\n  var user = Meteor.users.findOne(comment.userId);\n  if (user) {\n    return Users.getProfileUrl(user);\n  } else {\n    return Users.getProfileUrlBySlugOrId(comment.userId);\n  }\n};\n\nvar getAuthor = function (comment) {\n  var user = Meteor.users.findOne(comment.userId);\n  if (user) {\n    return Users.getUserName(user);\n  } else {\n    return comment.author;\n  }\n};\n\n// ------------------------------------------------------------------------------------------- //\n// -----------------------------------------  Posts ------------------------------------------ //\n// ------------------------------------------------------------------------------------------- //\n\nHerald.addCourier('newPost', {\n  media: {\n    email: {\n      emailRunner: function (user) {\n        var p = Posts.getProperties(this.data);\n        var subject = p.postAuthorName+' has created a new post: '+p.postTitle;\n        var html = Telescope.email.buildTemplate(Telescope.email.getTemplate('emailNewPost')(p));\n        Telescope.email.send(Users.getEmail(user), subject, html);\n      }\n    }\n  }\n  // message: function (user) { return 'email template?' }\n});\n\nHerald.addCourier('newPendingPost', {\n  media: {\n    email: {\n      emailRunner: function (user) {\n        var p = Posts.getProperties(this.data);\n        var subject = p.postAuthorName+' has a new post pending approval: '+p.postTitle;\n        var html = Telescope.email.buildTemplate(Telescope.email.getTemplate('emailNewPendingPost')(p));\n        Telescope.email.send(Users.getEmail(user), subject, html);\n      }\n    }\n  }\n});\n\nHerald.addCourier('postApproved', {\n  media: {\n    onsite: {},\n    email: {\n      emailRunner: function (user) {\n        var p = Posts.getProperties(this.data);\n        var subject = 'Your post “'+p.postTitle+'” has been approved';\n        var html = Telescope.email.buildTemplate(Telescope.email.getTemplate('emailPostApproved')(p));\n        Telescope.email.send(Users.getEmail(user), subject, html);\n      }\n    }\n  },\n  message: {\n    default: function () {\n      return Blaze.toHTML(Blaze.With(this, function () {\n        return Template.notification_post_approved;\n      }));\n    }\n  },\n  transform: {\n    postUrl: function () {\n      var p = Posts.getProperties(this.data);\n      return p.postUrl;\n    },\n    postTitle: function () {\n      var p = Posts.getProperties(this.data);\n      return p.postTitle;\n    }\n  }\n});\n\n// ------------------------------------------------------------------------------------------- //\n// ---------------------------------------- Comments ----------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\n// specify how to get properties used in template from comment data\nvar commentCourierTransform = {\n  profileUrl: function () {\n    return getCommenterProfileUrl(this.data.comment);\n  },\n  postCommentUrl: function () {\n    return Router.path('post_page', {_id: this.data.post._id});\n  },\n  author: function () {\n    return getAuthor(this.data.comment);\n  },\n  postTitle: function () {\n    return this.data.post.title;\n  },\n  url: function () {\n    return Router.path('comment_reply', {_id: this.parentComment._id});\n  }\n};\n\nHerald.addCourier('newComment', {\n  media: {\n    onsite: {},\n    email: {\n      emailRunner: commentEmail\n    }\n  },\n  message: {\n    default: function () {\n      return Blaze.toHTML(Blaze.With(this, function () {\n        return Template.notification_new_comment;\n      }));\n    }\n  },\n  transform: commentCourierTransform\n});\n\nHerald.addCourier('newReply', {\n  media: {\n    onsite: {},\n    email: {\n      emailRunner: commentEmail\n    }\n  },\n  message: {\n    default: function () {\n      return Blaze.toHTML(Blaze.With(this, function () {\n        return Template.notification_new_reply;\n      }));\n    }\n  },\n  transform: commentCourierTransform\n});\n\nHerald.addCourier('newCommentSubscribed', {\n  media: {\n    onsite: {},\n    email: {\n      emailRunner: commentEmail\n    }\n  },\n  message: {\n    default: function () {\n      return Blaze.toHTML(Blaze.With(this, function () {\n        return Template.notification_new_reply;\n      }));\n    }\n  },\n  transform: commentCourierTransform\n});\n","Telescope.modules.add(\"secondaryNav\", {\n  template:'notifications_menu',\n  order: 20\n});\n\nTelescope.modules.add(\"mobileNav\", {\n  template:'notifications_menu',\n  order: 20\n});","TAPi18n.packages[\"telescope:notifications\"] = {\"translation_function_name\":\"__\",\"helper_name\":\"_\",\"namespace\":\"project\"};\n\n// define package's translation function (proxy to the i18next)\n__ = TAPi18n._getPackageI18nextProxy(\"project\");\n","getUnsubscribeLink = function(user){\n  return Telescope.utils.getRouteUrl('unsubscribe', {hash: user.telescope.emailHash});\n};\n\n// given a notification, return the correct subject and html to send an email\nbuildEmailNotification = function (notification) {\n\n  var subject,\n      template,\n      post = notification.data.post,\n      comment = notification.data.comment;\n\n  switch(notification.courier){\n\n    case 'newComment':\n      subject = notification.author()+' left a new comment on your post \"' + post.title + '\"';\n      template = 'emailNewComment';\n      break;\n\n    case 'newReply':\n      subject = notification.author()+' replied to your comment on \"'+post.title+'\"';\n      template = 'emailNewReply';\n      break;\n\n    case 'newCommentSubscribed':\n      subject = notification.author()+' left a new comment on \"' + post.title + '\"';\n      template = 'emailNewComment';\n      break;\n\n    default:\n      break;\n  }\n\n  var emailProperties = _.extend(notification.data, {\n    body: marked(comment.body),\n    profileUrl: Users.getProfileUrlBySlugOrId(comment.userId),\n    postCommentUrl: Telescope.utils.getPostCommentUrl(post._id, comment._id),\n    postLink: Posts.getLink(post)\n  });\n\n  // console.log(emailProperties)\n\n  var notificationHtml = Telescope.email.getTemplate(template)(emailProperties);\n  var html = Telescope.email.buildTemplate(notificationHtml);\n\n  return {\n    subject: subject,\n    html: html\n  };\n};\n\nMeteor.methods({\n  unsubscribeUser : function(hash){\n    // TO-DO: currently, if you have somebody's email you can unsubscribe them\n    // A user-specific salt should be added to the hashing method to prevent this\n    var user = Meteor.users.findOne({\"telescope.emailHash\": hash});\n    if(user){\n      Meteor.users.update(user._id, {\n        $set: {\n          'profile.notifications.users' : 0,\n          'profile.notifications.posts' : 0,\n          'profile.notifications.comments' : 0,\n          'profile.notifications.replies' : 0\n        }\n      });\n      return true;\n    }\n    return false;\n  }\n});\n\n","Meteor.startup(function () {\n  \n  // Notification email\n\n  Router.route('/email/notification/:id?', {\n    name: 'notification',\n    where: 'server',\n    action: function() {\n      var notification = Herald.collection.findOne(this.params.id);\n      var notificationContents = buildEmailNotification(notification);\n      this.response.write(notificationContents.html);\n      this.response.end();\n    }\n  });\n\n});","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nif(_.isUndefined(TAPi18n.translations[\"de\"])) {\n  TAPi18n.translations[\"de\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"de\"][namespace])) {\n  TAPi18n.translations[\"de\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"de\"][namespace], {\"left_a_new_comment_on\":\"left a new comment on\",\"has_replied_to_your_comment_on\":\"has replied to your comment on\",\"mark_as_read\":\"Mark as read\",\"no_notifications\":\"No notifications\",\"you_have_been_unsubscribed_from_all_notifications\":\"You have been unsubscribed from all notifications.\",\"user_not_found\":\"User not found\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\"});\n","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"left_a_new_comment_on\":\"left a new comment on\",\"has_replied_to_your_comment_on\":\"has replied to your comment on\",\"mark_as_read\":\"Mark as read\",\"no_notifications\":\"No notifications\",\"you_have_been_unsubscribed_from_all_notifications\":\"You have been unsubscribed from all notifications.\",\"user_not_found\":\"User not found\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\",\"notifications_fieldset\":\"Notifications\",\"emailNotifications\":\"Email Notifications\",\"your_post\":\"Your post\",\"has_been_approved\":\"has been approved\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nif(_.isUndefined(TAPi18n.translations[\"es\"])) {\n  TAPi18n.translations[\"es\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"es\"][namespace])) {\n  TAPi18n.translations[\"es\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"es\"][namespace], {\"left_a_new_comment_on\":\"left a new comment on\",\"has_replied_to_your_comment_on\":\"has replied to your comment on\",\"mark_as_read\":\"Mark as read\",\"no_notifications\":\"No notifications\",\"you_have_been_unsubscribed_from_all_notifications\":\"You have been unsubscribed from all notifications.\",\"user_not_found\":\"User not found\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\"});\n","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nif(_.isUndefined(TAPi18n.translations[\"fr\"])) {\n  TAPi18n.translations[\"fr\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"fr\"][namespace])) {\n  TAPi18n.translations[\"fr\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"fr\"][namespace], {\"left_a_new_comment_on\":\"a laissé un nouveau commentaire sur\",\"has_replied_to_your_comment_on\":\"a répondu à\",\"mark_as_read\":\"Marquer comme lu\",\"no_notifications\":\"Aucune notification\",\"you_have_been_unsubscribed_from_all_notifications\":\"Vous avez été désabonné de toutes les notifications.\",\"user_not_found\":\"Utilisateur non trouvé\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\",\"emailNotifications\":\"Notifications par Email\",\"your_post\":\"Votre post\",\"has_been_approved\":\"a été approuvé\"});\n","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nif(_.isUndefined(TAPi18n.translations[\"it\"])) {\n  TAPi18n.translations[\"it\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"it\"][namespace])) {\n  TAPi18n.translations[\"it\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"it\"][namespace], {\"left_a_new_comment_on\":\"left a new comment on\",\"has_replied_to_your_comment_on\":\"has replied to your comment on\",\"mark_as_read\":\"Mark as read\",\"no_notifications\":\"No notifications\",\"you_have_been_unsubscribed_from_all_notifications\":\"You have been unsubscribed from all notifications.\",\"user_not_found\":\"User not found\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\"});\n","var _ = Package.underscore._,\n    package_name = \"telescope:notifications\",\n    namespace = \"telescope:notifications\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nif(_.isUndefined(TAPi18n.translations[\"zh-CN\"])) {\n  TAPi18n.translations[\"zh-CN\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"zh-CN\"][namespace])) {\n  TAPi18n.translations[\"zh-CN\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"zh-CN\"][namespace], {\"left_a_new_comment_on\":\"left a new comment on\",\"has_replied_to_your_comment_on\":\"has replied to your comment on\",\"mark_as_read\":\"Mark as read\",\"no_notifications\":\"No notifications\",\"you_have_been_unsubscribed_from_all_notifications\":\"You have been unsubscribed from all notifications.\",\"user_not_found\":\"User not found\",\"1_notification\":\"1 notification\",\"notifications\":\"notifications\"});\n"]}